<%- include('fragments/head.ejs') %>
<body>
<%- include('fragments/nav.ejs') %>

<main>
  <h1>Historique des Logs</h1>
  <p>Voici les actions enregistrées sur le serveur MongoDB :</p>

  <% if (logs && logs.length > 0) { %>
    <table class="log-table">
      <thead>
        <tr>
          <th>Date</th>
          <th>Adresse IP</th>
          <th>Utilisateur</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <% logs.forEach(log => { %>
          <tr>
            <td><%= new Date(log.date).toLocaleString('fr-FR') %></td>
            <td><%= log.ip_address || '—' %></td>
            <td><%= log.login || 'Anonyme' %></td>
            <td><%= log.action %></td>
          </tr>
        <% }) %>
      </tbody>
    </table>
  <% } else { %>
    <p class="muted">Aucun log enregistré pour le moment.</p>
  <% } %>
</main>

<%- include('fragments/footer.ejs') %>
</body>
</html>